<!DOCTYPE html>
<html>
    <head>
        <title>Apache Tomcat : TomcatGridDesign</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Apache Tomcat</a></span>
                            </li>
                                                    <li>
                                <span><a href="Apache-Tomcat-Home_61320756.html">Apache Tomcat Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Design-and-Development-Issues_61320762.html">Design and Development Issues</a></span>
                            </li>
                                                    <li>
                                <span><a href="Archive_110694813.html">Archive</a></span>
                            </li>
                                                    <li>
                                <span><a href="TomcatGrid_103100542.html">TomcatGrid</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Apache Tomcat : TomcatGridDesign
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> ASF Infrabot</span>, last modified on июн 21, 2015
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="TomcatGridDesign-Directorystructure">Directory structure</h2>
<p>Tentative directory structures are desbribed below for the Manager installations, and for the Agents.</p>

<p>Maybe we could merge both the Manager and Agent structure so all machines could run the CLI and Web Managers by definition.</p>

<h3 id="TomcatGridDesign-Manager">Manager</h3>
<p>The Manager directory structure contains the managers applications, the configuration, and all the deployables:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&lt;MANAGER_HOME&gt;
  +- bin                           : Grid executables
  | +- grid.sh                     : CLI Manager script (can also start/stop the Web Manager)
  | +- grid.bat                    : CLI Manager script (can also start/stop the Web Manager)
  | +- grid-&lt;version&gt;.jar          : CLI Manager library
  | +- grid-&lt;version&gt;.war          : Web Manager application
  +- conf                          : Configurations dir
  | +- grid.xml                    : Grid configuration file
  +- deployables                   : Contains installables and releases files
    +- agent                       : Agent package (installable)
    | +- agent-&lt;version&gt;.tgz       : Agent executables
    |   +- agent.sh                : Agent script
    |   +- agent.bat               : Agent script
    |   +- agent-&lt;version&gt;.jar     : Agent library
    +- layouts                     : Layouts (Tomcat installables) dir
    | +- tomcat-8.0.13.tgz         : A Tomcat layout (installable)
    | +- tomcat-8.0.13-core.tgz    : A Tomcat layout (installable)
    | +- tomcat-8.0.21-core.tgz    : A Tomcat layout (installable)
    +- libraries                   : Uploaded libraries (ready to install)
    | +- ojdbc6.jar                : A library
    | +- apache-activemq-4.1.0.jar : A library
    +- hooks                       : Stores all hooks scripts
    +- releases                    : Stores the releases
      +- &lt;version-id1&gt;             : A release version (autogenerated or specified)
      | +- &lt;application1&gt;          : A war application alias
      | | +- &lt;app1-file&gt;.war       : War application (file or dir)
      | +- &lt;application2&gt;          : A war application alias
      |   +- &lt;app2-file&gt;.war       : War application (file or dir)
      +- &lt;version-id2&gt;             : A release version (autogenerated or specified)
        +- &lt;application1&gt;          : A war application alias
        | +- &lt;app1-file&gt;.war       : War application (file or dir)
        +- &lt;application2&gt;          : A war application alias
          +- &lt;app2-file&gt;.war       : War application (file or dir)
</pre>
</div></div>
<h3 id="TomcatGridDesign-Agent">Agent</h3>
<p>The Agent directory structure contains the agent application, the grid and agent configurations, all deployables, and all the local Tomcat instances:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>&lt;AGENT_HOME&gt;
  +- bin                           : Agent executables
  | +- agent.sh                    : Agent script
  | +- agent.bat                   : Agent script
  | +- agent-&lt;version&gt;.jar         : Agent library
  +- conf                          : Configurations dir
  | +- grid.xml                    : Grid configuration file
  | +- agent.xml                   : Agent data file (includes agent id, agent_home, etc.)
  +- deployables...                : Replicated copy of the &quot;deployables&quot; dir of the Manager
  +- instances                     : Contains all the local Tomcat instances
    +- &lt;tomcat-1&gt;                  : Tomcat installation for the instance
    +- &lt;tomcat-2&gt;                  : Tomcat installation for the instance
    +- &lt;tomcat-N&gt;                  : Tomcat installation for the instance
</pre>
</div></div>
<h2 id="TomcatGridDesign-Configurationfiles">Configuration files</h2>
<p>Two configuration files are envisioned. All extra configuration, such as libraries, installables, web applications, hooks, etc are referenced on the configuration file but are stored in the standard file system locations as described above.</p>

<h3 id="TomcatGridDesign-Gridconfigurationfile">Grid configuration file</h3>
<p>The following example grid.xml configuration file, the main configuration file considers a Tomcat Grid with four instances in two machines:</p>

<ul>
	<li><strong>terminus</strong> (machine):
	<ul>
		<li><strong>tomcat101</strong> (tomcat instance): runs the <strong>customer facing</strong> war.</li>
		<li><strong>tomcat102</strong> (tomcat instance): runs the <strong>customer care</strong> war (lighter config).
<br class="atl-forced-newline"/></li>
	</ul>
	</li>
	<li><strong>anacreon</strong> (machine):
	<ul>
		<li><strong>tomcat201</strong> (tomcat instance): runs the <strong>customer facing</strong> war.</li>
		<li><strong>tomcat202</strong> (tomcat instance): runs the <strong>customer care</strong> war (lighter config), and the <strong>backend</strong> war.
<br class="atl-forced-newline"/></li>
	</ul>
	</li>
</ul>


<p>As an overview, the configuration file shown below includes all machines and all Tomcat instances for each one. Particularly each Tomcat instance specifies:</p>

<ul>
	<li>Its name.</li>
	<li>The Tomcat layout (core Tomcat installable) to use.</li>
	<li>All additions to the layout (libraries, drivers, etc.)</li>
	<li>The full JVM profile (java options) to run the Tomcat instance.</li>
	<li>The full Tomcat server profile (aka server.xml) to use.</li>
	<li>All the web applications to deploy, including their context configurations, and virtual hosts.
<br class="atl-forced-newline"/></li>
</ul>


<p>This information covers all the aspects needed to run each instance.</p>

<p>Considering the profiles are usually shared between instances (the customer facing profiles are probably identical for all customer facing instances), they are defined only once. Each instance references them, so they can be easily tuned on a single place instead of being copied all over the place.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: python; gutter: false; theme: Default" data-theme="Default">
&lt;?xml version=&quot;1.0&quot;?&gt;

&lt;!DOCTYPE tomcat-grid SYSTEM &quot;http://tomcat.apache.org/tomcat/grid/grid.dtd&quot;&gt;

&lt;tomcat-grid name=&quot;AMT Benefits&quot; environment=&quot;prod&quot;
  manager-port=&quot;6001&quot;&gt;

  &lt;layouts&gt;
    &lt;layout name=&quot;core&quot; package=&quot;apache-tomcat-7.0.42-core.tar.gz&quot; /&gt;
    &lt;layout name=&quot;realms&quot; package=&quot;apache-tomcat-7.0.42-realms.tar.gz&quot; /&gt;
  &lt;/layouts&gt;

  &lt;libraries&gt;
    &lt;libraries name=&quot;Oracle 6 JDBC driver&quot; package=&quot;ojdbc6.jar&quot; /&gt;
    &lt;libraries name=&quot;ActiveMQ 4.1 driver&quot; package=&quot;apache-activemq-4.1.0-incubator.jar&quot; /&gt;
  &lt;/libraries&gt;

  &lt;application-configurations&gt;

    &lt;application-configuration name=&quot;customer-facing&quot;&gt;
    &lt;![CDATA[
      &lt;Context&gt;
        &lt;Manager pathname=&quot;&quot; /&gt;
        &lt;Parameter name=&quot;UPLOAD_SHARED_MOUNT_PATH&quot; value=&quot;/shared/brdsmnt071/attachments&quot;
          override=&quot;true&quot; /&gt;
        &lt;Parameter name=&quot;LOG_FILE&quot;
          value=&quot;/shared/brdsmnt071/logs/${service.name}.log&quot; override=&quot;true&quot; /&gt;
        &lt;Environment name=&quot;maxAttachmentSize&quot; value=&quot;20000000&quot;
          type=&quot;java.lang.Integer&quot; override=&quot;false&quot; /&gt;
        &lt;Resource name=&quot;jdbc/customerDS&quot; auth=&quot;Container&quot;
          type=&quot;javax.sql.DataSource&quot; maxActive=&quot;100&quot; maxIdle=&quot;30&quot;
          maxWait=&quot;10000&quot; username=&quot;benefits&quot; password=&quot;benefits&quot;
          driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;
          url=&quot;jdbc:oracle:thin:@10.14.121.60:1521:MFUNDS4&quot; /&gt;
      &lt;/Context&gt;
      ]]&gt;
    &lt;/application-configuration&gt;

    &lt;application-configuration name=&quot;customer-care&quot;&gt;
      &lt;![CDATA[
      &lt;Context&gt;
        &lt;Manager pathname=&quot;&quot; /&gt;
        &lt;Parameter name=&quot;UPLOAD_SHARED_MOUNT_PATH&quot; value=&quot;/shared/brdsmnt071/attachments&quot;
          override=&quot;true&quot; /&gt;
        &lt;Parameter name=&quot;LOG_FILE&quot;
          value=&quot;/shared/brdsmnt071/logs/${service.name}.log&quot; override=&quot;true&quot; /&gt;
        &lt;Environment name=&quot;maxAttachmentSize&quot; value=&quot;20000000&quot;
          type=&quot;java.lang.Integer&quot; override=&quot;false&quot; /&gt;
        &lt;Resource name=&quot;jdbc/customerDS&quot; auth=&quot;Container&quot;
          type=&quot;javax.sql.DataSource&quot; maxActive=&quot;100&quot; maxIdle=&quot;30&quot;
          maxWait=&quot;10000&quot; username=&quot;benefits&quot; password=&quot;benefits&quot;
          driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot;
          url=&quot;jdbc:oracle:thin:@10.14.121.60:1521:MFUNDS4&quot; /&gt;
      &lt;/Context&gt;
      ]]&gt;
    &lt;/application-configuration&gt;

    &lt;application-configuration name=&quot;backend&quot;&gt;
      &lt;![CDATA[
      &lt;Context&gt;
        &lt;Manager pathname=&quot;&quot; /&gt;
        &lt;Parameter name=&quot;UPLOAD_SHARED_MOUNT_PATH&quot; value=&quot;/shared/brdsmnt071/attachments&quot;
          override=&quot;true&quot; /&gt;
        &lt;Environment name=&quot;maxAttachmentSize&quot; value=&quot;20000000&quot;
          type=&quot;java.lang.Integer&quot; override=&quot;false&quot; /&gt;
        &lt;Resource name=&quot;jdbc/personnelDS&quot; auth=&quot;Container&quot;
          type=&quot;javax.sql.DataSource&quot; maxActive=&quot;100&quot; maxIdle=&quot;30&quot;
          maxWait=&quot;10000&quot; username=&quot;benefits&quot; password=&quot;benefits&quot;
          driverClassName=&quot;oracle.jdbc.driver.OracleDriver&quot; url=&quot;jdbc:oracle:thin:@10.14.121.60:1521:MFUNDS4&quot; /&gt;
        &lt;Resource name=&quot;jms/extWiresQueue&quot; auth=&quot;Container&quot;
          type=&quot;org.apache.activemq.command.ActiveMQQueue&quot; description=&quot;External Wires Queue&quot;
          factory=&quot;org.apache.activemq.jndi.JNDIReferenceFactory&quot;
          physicalName=&quot;EXTWIREQ&quot; /&gt;
      &lt;/Context&gt;
      ]]&gt;
    &lt;/application-configuration&gt;

  &lt;/application-configurations&gt;

  &lt;applications&gt;

    &lt;application name=&quot;site&quot; package=&quot;benefits.war&quot;
      standard-source=&quot;/work/dists/benefits.war&quot;&gt;
    &lt;/application&gt;

    &lt;application name=&quot;backend&quot; package=&quot;benefits-aide.war&quot;
      standard-source=&quot;/work/dists/benefits-aide.war&quot;&gt;
    &lt;/application&gt;

  &lt;/applications&gt;

  &lt;java-profiles&gt;

    &lt;java-profile name=&quot;site-face&quot;&gt;
      &lt;![CDATA[
      -Xms1024m -Xmx2048m
      -XX:PermSize=192m -XX:MaxPermSize=256m
      -XX:+DisableExplicitGC
      -XX:+PrintGCDetails
      -XX:+PrintGCTimeStamps
      -XX:+HeapDumpOnOutOfMemoryError
      -Dsun.rmi.dgc.server.gcInterval=3600000
      -Dsun.lang.ClassLoader.allowArraySyntax=true
      -Djava.net.preferIPv4Stack=true
      -Dlog.file=$GRID_HOME/logs/${service.name}.log
      ]]&gt;
    &lt;/java-profile&gt;

    &lt;java-profile name=&quot;internal&quot;&gt;
      &lt;![CDATA[
      -Xms512m -Xmx768m
      -XX:PermSize=128m -XX:MaxPermSize=192m
      -XX:+DisableExplicitGC
      -XX:+PrintGCDetails
      -XX:+PrintGCTimeStamps
      -XX:+HeapDumpOnOutOfMemoryError
      -Dsun.rmi.dgc.server.gcInterval=3600000
      -Dsun.lang.ClassLoader.allowArraySyntax=true
      -Djava.net.preferIPv4Stack=true
      -Dlog.file=$GRID_HOME/logs/${service.name}.log
      ]]&gt;
    &lt;/java-profile&gt;

    &lt;java-profile name=&quot;processes&quot;&gt;
      &lt;![CDATA[
      -Xms1024m -Xmx1024m
      -XX:PermSize=128m -XX:MaxPermSize=192m
      -XX:+DisableExplicitGC
      -XX:+PrintGCDetails
      -XX:+PrintGCTimeStamps
      -XX:+HeapDumpOnOutOfMemoryError
      -Dsun.rmi.dgc.server.gcInterval=3600000
      -Dsun.lang.ClassLoader.allowArraySyntax=true
      -Djava.net.preferIPv4Stack=true
      -Dlog.file=$GRID_HOME/logs/${service.name}.log
      ]]&gt;
    &lt;/java-profile&gt;

  &lt;/java-profiles&gt;

  &lt;server-profiles&gt;

    &lt;server-profile name=&quot;web&quot;&gt;
      &lt;![CDATA[
      &lt;Server port=&quot;${server.port}&quot; shutdown=&quot;SHUTDOWN&quot;&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.JasperListener&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;
        &lt;GlobalNamingResources&gt;
          &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;
            type=&quot;org.apache.catalina.UserDatabase&quot; description=&quot;User database that can be updated and saved&quot;
            factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;
            pathname=&quot;conf/tomcat-users.xml&quot; /&gt;
        &lt;/GlobalNamingResources&gt;
        &lt;Service name=&quot;Catalina&quot;&gt;
          &lt;Connector name=&quot;http&quot; executor=&quot;tomcatThreadPool&quot;
            port=&quot;${http.port}&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; /&gt;
          &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;
            &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;
              &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;
                resourceName=&quot;UserDatabase&quot; /&gt;
            &lt;/Realm&gt;
            &lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;
              &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;
                directory=&quot;logs&quot; prefix=&quot;${service.name}-localhost_access_log.&quot;
                suffix=&quot;.txt&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;
            &lt;/Host&gt;
          &lt;/Engine&gt;
        &lt;/Service&gt;
      &lt;/Server&gt;
      ]]&gt;
    &lt;/server-profile&gt;

    &lt;server-profile name=&quot;auxiliary&quot;&gt;
      &lt;![CDATA[
      &lt;Server port=&quot;${server.port}&quot; shutdown=&quot;SHUTDOWN&quot;&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.JasperListener&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;
        &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;
        &lt;GlobalNamingResources&gt;
          &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;
            type=&quot;org.apache.catalina.UserDatabase&quot; description=&quot;User database that can be updated and saved&quot;
            factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;
            pathname=&quot;conf/tomcat-users.xml&quot; /&gt;
        &lt;/GlobalNamingResources&gt;
        &lt;Service name=&quot;Catalina&quot;&gt;
          &lt;Connector name=&quot;http&quot; executor=&quot;tomcatThreadPool&quot;
            port=&quot;${http.port}&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; /&gt;
          &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;
            &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;
              &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;
                resourceName=&quot;UserDatabase&quot; /&gt;
            &lt;/Realm&gt;
            &lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;
              &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;
                directory=&quot;logs&quot; prefix=&quot;${service.name}-localhost_access_log.&quot;
                suffix=&quot;.txt&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;
            &lt;/Host&gt;
          &lt;/Engine&gt;
        &lt;/Service&gt;
      &lt;/Server&gt;
      ]]&gt;
    &lt;/server-profile&gt;

  &lt;/server-profiles&gt;

  &lt;machines&gt;

    &lt;machine id=&quot;1&quot; name=&quot;Box #1 - Terminus&quot; host=&quot;10.208.14.91&quot;
      agent-port=&quot;6060&quot; reported-hostname=&quot;terminus&quot;&gt;

      &lt;tomcat name=&quot;tomcat101&quot; layout=&quot;core&quot;&gt;
        &lt;addition library=&quot;Oracle 6 JDBC driver&quot; /&gt;
        &lt;deployment application=&quot;site&quot; engine=&quot;Catalina&quot;
          virtual-host=&quot;localhost&quot; appBase=&quot;webapps&quot; configuration=&quot;customer-facing&quot; /&gt;
        &lt;java-options profile=&quot;site-face&quot; /&gt;
        &lt;server-configuration profile=&quot;web&quot;&gt;
          &lt;parameter name=&quot;server.port&quot; value=&quot;8005&quot; /&gt;
          &lt;parameter name=&quot;http.port&quot; value=&quot;8080&quot; /&gt;
        &lt;/server-configuration&gt;
      &lt;/tomcat&gt;

      &lt;tomcat name=&quot;tomcat102&quot; layout=&quot;core&quot;&gt;
        &lt;addition library=&quot;Oracle 6 JDBC driver&quot; /&gt;
        &lt;deployment application=&quot;site&quot; engine=&quot;Catalina&quot;
          virtual-host=&quot;localhost&quot; appBase=&quot;webapps&quot; configuration=&quot;customer-care&quot; /&gt;
        &lt;java-options profile=&quot;internal&quot; /&gt;
        &lt;server-configuration profile=&quot;web&quot;&gt;
          &lt;parameter name=&quot;server.port&quot; value=&quot;8105&quot; /&gt;
          &lt;parameter name=&quot;http.port&quot; value=&quot;8180&quot; /&gt;
        &lt;/server-configuration&gt;
      &lt;/tomcat&gt;

    &lt;/machine&gt;

    &lt;machine id=&quot;2&quot; name=&quot;Box #2 - Anacreon&quot; host=&quot;10.208.14.92&quot;
      agent-port=&quot;6060&quot; reported-hostname=&quot;anacreon&quot;&gt;

      &lt;tomcat name=&quot;tomcat201&quot; layout=&quot;core&quot;&gt;
        &lt;addition library=&quot;Oracle 6 JDBC driver&quot; /&gt;
        &lt;deployment application=&quot;site&quot; engine=&quot;Catalina&quot;
          virtual-host=&quot;localhost&quot; appBase=&quot;webapps&quot; configuration=&quot;customer-facing&quot; /&gt;
        &lt;java-options profile=&quot;site-face&quot; /&gt;
        &lt;server-configuration profile=&quot;web&quot;&gt;
          &lt;parameter name=&quot;server.port&quot; value=&quot;8005&quot; /&gt;
          &lt;parameter name=&quot;http.port&quot; value=&quot;8080&quot; /&gt;
        &lt;/server-configuration&gt;
      &lt;/tomcat&gt;

      &lt;tomcat name=&quot;tomcat202&quot; layout=&quot;realms&quot;&gt;
        &lt;addition library=&quot;Oracle 6 JDBC driver&quot; /&gt;
        &lt;addition library=&quot;ActiveMQ 4.1 driver&quot; /&gt;
        &lt;deployment application=&quot;site&quot; engine=&quot;Catalina&quot;
          virtual-host=&quot;localhost&quot; appBase=&quot;webapps&quot; configuration=&quot;customer-care&quot; /&gt;
        &lt;deployment application=&quot;backend&quot; engine=&quot;Catalina&quot;
          virtual-host=&quot;localhost&quot; appBase=&quot;webapps&quot; configuration=&quot;backend&quot; /&gt;
        &lt;java-options profile=&quot;processes&quot; /&gt;
        &lt;server-configuration profile=&quot;auxiliary&quot;&gt;
          &lt;parameter name=&quot;server.port&quot; value=&quot;8105&quot; /&gt;
          &lt;parameter name=&quot;http.port&quot; value=&quot;8280&quot; /&gt;
        &lt;/server-configuration&gt;
      &lt;/tomcat&gt;

    &lt;/machine&gt;

  &lt;/machines&gt;

&lt;/tomcat-grid&gt;
</pre>
</div></div>
<h3 id="TomcatGridDesign-Agentconfigurationfile">Agent configuration file</h3>
<p>The Agent configuration file contains minimal information needed to identify the local configuration from the general grid configuration file.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: python; gutter: false; theme: Default" data-theme="Default">
&lt;?xml version=&quot;1.0&quot;?&gt;

&lt;!DOCTYPE tomcat-grid-agent SYSTEM &quot;http://tomcat.apache.org/tomcat/grid/agent.dtd&quot;&gt;

&lt;tomcat-grid-agent id=&quot;1&quot;&gt;
&lt;/tomcat-grid-agent&gt;
</pre>
</div></div>
                    </div>

                                        
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on мая 02, 2023 11:01</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
