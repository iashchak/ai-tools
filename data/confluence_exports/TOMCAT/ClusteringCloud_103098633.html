<!DOCTYPE html>
<html>
    <head>
        <title>Apache Tomcat : ClusteringCloud</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Apache Tomcat</a></span>
                            </li>
                                                    <li>
                                <span><a href="Apache-Tomcat-Home_61320756.html">Apache Tomcat Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="FAQ_103098750.html">FAQ</a></span>
                            </li>
                                                    <li>
                                <span><a href="Clustering_103098820.html">Clustering</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Apache Tomcat : ClusteringCloud
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> ASF Infrabot</span>, last modified by <span class='editor'> Konstantin Kolinko</span> on ноя 24, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><em>Permalink</em> to this page: <a href="https://cwiki.apache.org/confluence/x/CSklBg" rel="nofollow">https://cwiki.apache.org/confluence/x/CSklBg</a></p><h2 id="ClusteringCloud-HowtouseTomcatclusteringinthecloud.">How to use Tomcat clustering in the cloud.</h2><p>The load-balancer and the sticky (or not sticky) logic is provided by the cloud itself, basically you have to expose a service and configure a route. Cloud configuration depends on the cloud providers, documentation for more cloud providers will be added to this wiki.</p><p>The Tomcat clustering for the cloud uses Kubernetes, so you have to configure your nodes to use Kubernetes, all cloud providers support Kubernetes. Kubernetes uses Docker so you have to create a Docker image to use Tomcat in the cloud. There are 2 ways to organize your images: use a standalone Tomcat and add your webapps to it or prepare your webapps as a micro service and have one image per webapp. Each image will be started as a pod on Kubernetes, you can scale up and down by changing the number of pods running your webapp or your Tomcat. Hanging or dying pods are restarted by Kubernetes.</p><p>1 - &quot;Full&quot; tomcat configuration:</p><p>In server.xml use the following:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Default" data-theme="Default">&lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;&gt;
&lt;Channel className=&quot;org.apache.catalina.tribes.group.GroupChannel&quot;&gt;
&lt;Membership className=&quot;org.apache.catalina.tribes.membership.cloud.CloudMembershipService&quot;/&gt;
&lt;/Channel&gt;
&lt;/Cluster&gt;</pre>
</div></div><p><br/></p><p>2 - Example:</p><p>There is an example to use it with OpenShift in <a class="external-link" href="https://github.com/jfclere/tomcat-kubernetes" rel="nofollow">https://github.com/jfclere/tomcat-kubernetes</a></p>
                    </div>

                                        
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on мая 02, 2023 11:01</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
