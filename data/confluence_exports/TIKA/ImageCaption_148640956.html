<!DOCTYPE html>
<html>
    <head>
        <title>TIKA : ImageCaption</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">TIKA</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_109454051.html">Home</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            TIKA : ImageCaption
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Chris Mattmann</span>, last modified on мар 07, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1683040429413 {padding: 0px;}
div.rbtoc1683040429413 ul {margin-left: 0px;}
div.rbtoc1683040429413 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1683040429413'>
<ul class='toc-indentation'>
<li><a href='#ImageCaption-TikaandComputerVision-ImageCaptioning'>Tika and Computer Vision - Image Captioning</a>
<ul class='toc-indentation'>
<li><a href='#ImageCaption-TikaandTensorflowImageCaptioningUsingRESTServer'>Tika and Tensorflow Image Captioning Using REST Server</a>
<ul class='toc-indentation'>

<ul class='toc-indentation'>
<li><a href='#ImageCaption-Step1.SetupRESTServer'>Step 1. Setup REST Server</a>
<ul class='toc-indentation'>
<li><a href='#ImageCaption-a.Usingdocker(Recommended)'>a. Using docker (Recommended)</a></li>
<li><a href='#ImageCaption-b.WithoutUsingdocker'>b. Without Using docker</a></li>
</ul>
</li>
<li><a href='#ImageCaption-Step2.CreateaTika-ConfigXMLtoenableTensorflowparser.'>Step 2. Create a Tika-Config XML to enable Tensorflow parser.</a></li>
<li><a href='#ImageCaption-Step3.Demo'>Step 3. Demo</a></li>
</ul>
<li><a href='#ImageCaption-Questions/Suggestions/Improvements/Feedback?'>Questions / Suggestions / Improvements / Feedback ?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></p><h1 id="ImageCaption-TikaandComputerVision-ImageCaptioning">Tika and Computer Vision - Image Captioning</h1><p class="line862">This page describes how to use the Image Captioning capability of Apache Tika. &quot;Image captioning&quot; or &quot;describing the content of an image&quot; is a fundamental problem in artificial intelligence that connects computer vision and natural language processing. TIKA-2262 introduced a new parser to perform captioning on images. Visit<span> </span><a class="external-link" href="https://issues.apache.org/jira/browse/TIKA-2262" rel="nofollow" style="text-decoration: none;">TIKA-2262 issue on Jira</a><span> </span>or<span> </span><a class="external-link" href="https://github.com/apache/tika/pull/180" rel="nofollow" style="text-decoration: none;">pull request on Github</a><span> </span>to see the related conversations. Currently, Tika utilizes an implementation based on the paper<span> </span><a class="external-link" href="https://arxiv.org/abs/1411.4555" rel="nofollow" style="text-decoration: none;">Show and Tell: A Neural Image Caption Generator</a><span> </span>for captioning images. This paper presents a generative model based on a deep recurrent architecture that combines recent advances in computer vision and machine translation that can be used to generate natural sentences describing an image. Continue reading to get Tika up and running for image captioning.</p><p class="line867"><br/></p><h2 id="ImageCaption-TikaandTensorflowImageCaptioningUsingRESTServer">Tika and Tensorflow Image Captioning Using REST Server</h2><p class="line874">We are going to start a python flask based REST API server and tell tika to connect to it. All the dependencies and setup complexities are isolated in the docker image.</p><p class="line874">Requirements :</p><ul><li style="list-style-type: none;"><p class="line862">Docker -- Visit<span> </span><a class="external-link" href="https://www.docker.com/" rel="nofollow" style="text-decoration: none;">Docker.com</a><span> </span>and install latest version of Docker. (Note: tested on docker v17.03.1)</p></li></ul><p class="line867"><br/></p><h4 id="ImageCaption-Step1.SetupRESTServer">Step 1. Setup REST Server</h4><p class="line874">You can either start the REST server in an isolated docker container or natively on the host that runs tensorflow v1.0</p><p class="line867"><br/></p><h5 id="ImageCaption-a.Usingdocker(Recommended)">a. Using docker (Recommended)</h5><p class="line867"><br/></p><p><a class="external-link" href="https://163.172.69.106/tika/ImageCaption" rel="nofollow" style="text-decoration: none;">Toggle line numbers</a></p><pre lang="en"><span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-ee96f5720728404e3d400c5f340e717097152db9_1" rel="nofollow" style="text-decoration: none;">   1</a> </span>git clone https://github.com/USCDataScience/tika-dockers.git &amp;&amp; <span class="ResWord" style="color: rgb(160,0,0);">cd</span> tika-dockers</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-ee96f5720728404e3d400c5f340e717097152db9_2" rel="nofollow" style="text-decoration: none;">   2</a> </span>docker build -f Im2txtRestDockerfile -t uscdatascience/im2txt-rest-tika .</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-ee96f5720728404e3d400c5f340e717097152db9_3" rel="nofollow" style="text-decoration: none;">   3</a> </span>docker run -p 8764:8764 -it uscdatascience/im2txt-rest-tika</span>
</pre><p class="line862">Once it is done, test the setup by visiting<span> </span><a class="external-link" href="http://localhost:8764/inception/v3/caption/image?url=https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Marcus_Thames_Tigers_2007.jpg/1200px-Marcus_Thames_Tigers_2007.jpg" rel="nofollow" style="text-decoration: none;">http://localhost:8764/inception/v3/caption/image?url=https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Marcus_Thames_Tigers_2007.jpg/1200px-Marcus_Thames_Tigers_2007.jpg</a><span> </span>in your web browser.</p><p class="line867"><strong>Sample output from API:</strong></p><pre>{
        &quot;captions&quot;: [{
                        &quot;confidence&quot;: 0.010706611316269087,
                        &quot;sentence&quot;: &quot;a baseball player swinging a bat at a ball&quot;
                },
                {
                        &quot;confidence&quot;: 0.004686326913725872,
                        &quot;sentence&quot;: &quot;a baseball player swinging a bat at a ball .&quot;
                },
                {
                        &quot;confidence&quot;: 0.0041084865981657155,
                        &quot;sentence&quot;: &quot;a baseball player swinging a bat on a field&quot;
                }
        ],
        &quot;beam_size&quot;: 3,
        &quot;max_caption_length&quot;: 20,
        &quot;time&quot;: {
                &quot;read&quot;: 407,
                &quot;captioning&quot;: 1632,
                &quot;units&quot;: &quot;ms&quot;
        }
}</pre><p class="line874">Note: MAC USERS:</p><ul><li style="list-style-type: none;">If you are using an older version, say, 'Docker toolbox' instead of the newer 'Docker for Mac',</li></ul><p class="line874">you need to add port forwarding rules in your Virtual Box default machine.</p><ol><li>Open the Virtual Box Manager.</li><li>Select your Docker Machine Virtual Box image.</li><li><p class="line862">Open Settings -&gt; Network -&gt; Advanced -&gt; Port Forwarding.</p></li><li>Add an appname,Host IP 127.0.0.1 and set both ports to 8764.</li></ol><p class="line867"><br/></p><h5 id="ImageCaption-b.WithoutUsingdocker">b. Without Using docker</h5><p class="line862">If you chose to setup REST server without a docker container, you are free to manually install all the required tools specified in the<span> </span><a class="external-link" href="https://github.com/USCDataScience/tika-dockers/blob/master/Im2txtRestDockerfile" rel="nofollow" style="text-decoration: none;">docker file</a>.</p><p class="line874">Note: docker file has setup instructions for Ubuntu, you will have to transform those commands for your environment.</p><p class="line867"><br/></p><p><a class="external-link" href="https://163.172.69.106/tika/ImageCaption" rel="nofollow" style="text-decoration: none;">Toggle line numbers</a></p><pre lang="en"><span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-5117ba35107b6132a983548e3ff313ae910cc379_1" rel="nofollow" style="text-decoration: none;">   1</a> </span>   python tika-parsers/src/main/resources/org/apache/tika/parser/captioning/tf/im2txtapi.py</span>
</pre><p class="line867"><br/></p><h4 id="ImageCaption-Step2.CreateaTika-ConfigXMLtoenableTensorflowparser.">Step 2. Create a Tika-Config XML to enable Tensorflow parser.</h4><ul><li style="list-style-type: none;"><p class="line862">A sample config can be found in Tika source code at<span> </span><a class="external-link" href="https://github.com/apache/tika/blob/da82df5e9def9698fd32f85fe706660641d7c31f/tika-parsers/src/test/resources/org/apache/tika/parser/recognition/tika-config-tflow-rest.xml" rel="nofollow" style="text-decoration: none;">tika-parsers/src/test/resources/org/apache/tika/parser/recognition/tika-config-tflow-rest.xml</a></p></li></ul><p class="line867"><strong>Here is an example:</strong></p><pre>&lt;properties&gt;
    &lt;parsers&gt;
        &lt;parser class=&quot;org.apache.tika.parser.recognition.ObjectRecognitionParser&quot;&gt;
            &lt;mime&gt;image/jpeg&lt;/mime&gt;
            &lt;mime&gt;image/png&lt;/mime&gt;
            &lt;mime&gt;image/gif&lt;/mime&gt;
            &lt;params&gt;
                &lt;param name=&quot;apiBaseUri&quot; type=&quot;uri&quot;&gt;http://localhost:8764/inception/v3&lt;/param&gt;
                &lt;param name=&quot;captions&quot; type=&quot;int&quot;&gt;5&lt;/param&gt;
                &lt;param name=&quot;maxCaptionLength&quot; type=&quot;int&quot;&gt;15&lt;/param&gt;
                &lt;param name=&quot;class&quot; type=&quot;string&quot;&gt;org.apache.tika.parser.captioning.tf.TensorflowRESTCaptioner&lt;/param&gt;
            &lt;/params&gt;
        &lt;/parser&gt;
    &lt;/parsers&gt;
&lt;/properties&gt;</pre><p class="line867"><strong>Description of parameters :</strong></p><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd"><strong>Param Name</strong></td><td class="confluenceTd"><strong>Type</strong></td><td class="confluenceTd"><strong>Meaning</strong></td><td class="confluenceTd"><strong>Range</strong></td><td class="confluenceTd"><strong>Example</strong></td></tr><tr><td class="confluenceTd">apiBaseUri</td><td class="confluenceTd">uri</td><td class="confluenceTd">HTTP URL that will be used to create apiUri &amp; healthUri</td><td class="confluenceTd">any HTTP URL</td><td class="confluenceTd"><a class="external-link" href="http://localhost:8764/inception/v3" rel="nofollow">http://localhost:8764/inception/v3</a></td></tr><tr><td class="confluenceTd">captions</td><td class="confluenceTd">int</td><td class="confluenceTd">Number of captions to output</td><td class="confluenceTd">a non-zero positive integer</td><td class="confluenceTd">3 to recieve 3 captions</td></tr><tr><td class="confluenceTd">maxCaptionLength</td><td class="confluenceTd">int</td><td class="confluenceTd">Maximum length of a caption</td><td class="confluenceTd">a non-zero positive integer(recommended &gt;=15)</td><td class="confluenceTd">for 15 the sentence length of a caption won't be greater than 15</td></tr><tr><td class="confluenceTd">class</td><td class="confluenceTd">string</td><td class="confluenceTd">Name of class that Implements Object recognition Contract</td><td class="confluenceTd">constant string</td><td class="confluenceTd"><a class="external-link" href="http://org.apache.tika.parser.recognition.tf" rel="nofollow">org.apache.tika.parser.recognition.tf</a>.TensorflowRESTCaptioner</td></tr></tbody></table></div><p class="line867"><br/></p><h4 id="ImageCaption-Step3.Demo">Step 3. Demo</h4><p class="line867"><br/></p><pre>        $ java -jar tika-app/target/tika-app-1.17-SNAPSHOT.jar \
             --config=tika-parsers/src/test/resources/org/apache/tika/parser/recognition/tika-config-tflow-im2txt-rest.xml \
             https://upload.wikimedia.org/wikipedia/commons/f/f6/Working_Dogs%2C_Handlers_Share_Special_Bond_DVIDS124942.jpg</pre><p class="line874">The input image is:</p><p class="line867"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image external_image confluence-external-resource" draggable="false" alt="Germal Shepherd with Military" src="https://upload.wikimedia.org/wikipedia/commons/f/f6/Working_Dogs,_Handlers_Share_Special_Bond_DVIDS124942.jpg" data-image-src="https://upload.wikimedia.org/wikipedia/commons/f/f6/Working_Dogs,_Handlers_Share_Special_Bond_DVIDS124942.jpg"></span></p><p class="line874">And, the output is</p><p><a class="external-link" href="https://163.172.69.106/tika/ImageCaption" rel="nofollow" style="text-decoration: none;">Toggle line numbers</a></p><pre lang="en"><span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_1" rel="nofollow" style="text-decoration: none;">   1</a> </span>...</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_2" rel="nofollow" style="text-decoration: none;">   2</a> </span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_3" rel="nofollow" style="text-decoration: none;">   3</a> </span>INFO  Available = true, API Status = HTTP/1.0 200 OK</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_4" rel="nofollow" style="text-decoration: none;">   4</a> </span>INFO  Captions = 5, MaxCaptionLength = 15</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_5" rel="nofollow" style="text-decoration: none;">   5</a> </span>INFO  Recogniser = org.apache.tika.parser.captioning.tf.TensorflowRESTCaptioner</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_6" rel="nofollow" style="text-decoration: none;">   6</a> </span>INFO  Recogniser Available = true</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_7" rel="nofollow" style="text-decoration: none;">   7</a> </span>INFO  minConfidence = 0.05, topN=2</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_8" rel="nofollow" style="text-decoration: none;">   8</a> </span>INFO  Time taken 1779ms</span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_9" rel="nofollow" style="text-decoration: none;">   9</a> </span><span class="Preprc" style="color: rgb(128,57,153);">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="ID" style="color: rgb(0,0,0);">&lt;html</span> <span class="ID" style="color: rgb(0,0,0);">xmlns=</span><span class="String" style="color: rgb(0,64,128);">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_10" rel="nofollow" style="text-decoration: none;">  10</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;head</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_11" rel="nofollow" style="text-decoration: none;">  11</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;org.apache.tika.parser.recognition.object.rec.impl&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;org.apache.tika.parser.captioning.tf.TensorflowRESTCaptioner&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_12" rel="nofollow" style="text-decoration: none;">  12</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;X-Parsed-By&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;org.apache.tika.parser.CompositeParser&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_13" rel="nofollow" style="text-decoration: none;">  13</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;X-Parsed-By&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;org.apache.tika.parser.recognition.ObjectRecognitionParser&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_14" rel="nofollow" style="text-decoration: none;">  14</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;resourceName&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;Working_Dogs%2C_Handlers_Share_Special_Bond_DVIDS124942.jpg&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_15" rel="nofollow" style="text-decoration: none;">  15</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;Content-Length&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;295937&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_16" rel="nofollow" style="text-decoration: none;">  16</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;CAPTION&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;a man standing next to a dog on a leash . (0.00017)&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_17" rel="nofollow" style="text-decoration: none;">  17</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;CAPTION&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;a man standing next to a dog on a bench . (0.00017)&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_18" rel="nofollow" style="text-decoration: none;">  18</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;CAPTION&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;a man and a dog are sitting on a bench . (0.00014)&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_19" rel="nofollow" style="text-decoration: none;">  19</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;CAPTION&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;a man and a dog sitting on a bench . (0.00013)&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_20" rel="nofollow" style="text-decoration: none;">  20</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;CAPTION&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;a man and a dog are sitting on a bench (0.00009)&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_21" rel="nofollow" style="text-decoration: none;">  21</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;meta</span> <span class="ID" style="color: rgb(0,0,0);">name=</span><span class="String" style="color: rgb(0,64,128);">&quot;Content-Type&quot;</span> <span class="ID" style="color: rgb(0,0,0);">content=</span><span class="String" style="color: rgb(0,64,128);">&quot;image/jpeg&quot;</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_22" rel="nofollow" style="text-decoration: none;">  22</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;title</span><span class="ID" style="color: rgb(0,0,0);">/&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_23" rel="nofollow" style="text-decoration: none;">  23</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;/head&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_24" rel="nofollow" style="text-decoration: none;">  24</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;body</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span><span class="ID" style="color: rgb(0,0,0);">&lt;ol</span> <span class="ID" style="color: rgb(0,0,0);">id=</span><span class="String" style="color: rgb(0,64,128);">&quot;captions&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span>        <span class="ID" style="color: rgb(0,0,0);">&lt;li</span> <span class="ID" style="color: rgb(0,0,0);">id=</span><span class="String" style="color: rgb(0,64,128);">&quot;0&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span> a man standing next to a dog on a leash . [en](confidence = 0.000167)<span class="ID" style="color: rgb(0,0,0);">&lt;/li&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_25" rel="nofollow" style="text-decoration: none;">  25</a> </span>        <span class="ID" style="color: rgb(0,0,0);">&lt;li</span> <span class="ID" style="color: rgb(0,0,0);">id=</span><span class="String" style="color: rgb(0,64,128);">&quot;1&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span> a man standing next to a dog on a bench . [en](confidence = 0.000167)<span class="ID" style="color: rgb(0,0,0);">&lt;/li&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_26" rel="nofollow" style="text-decoration: none;">  26</a> </span>        <span class="ID" style="color: rgb(0,0,0);">&lt;li</span> <span class="ID" style="color: rgb(0,0,0);">id=</span><span class="String" style="color: rgb(0,64,128);">&quot;2&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span> a man and a dog are sitting on a bench . [en](confidence = 0.000138)<span class="ID" style="color: rgb(0,0,0);">&lt;/li&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_27" rel="nofollow" style="text-decoration: none;">  27</a> </span>        <span class="ID" style="color: rgb(0,0,0);">&lt;li</span> <span class="ID" style="color: rgb(0,0,0);">id=</span><span class="String" style="color: rgb(0,64,128);">&quot;3&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span> a man and a dog sitting on a bench . [en](confidence = 0.000131)<span class="ID" style="color: rgb(0,0,0);">&lt;/li&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_28" rel="nofollow" style="text-decoration: none;">  28</a> </span>        <span class="ID" style="color: rgb(0,0,0);">&lt;li</span> <span class="ID" style="color: rgb(0,0,0);">id=</span><span class="String" style="color: rgb(0,64,128);">&quot;4&quot;</span><span class="ID" style="color: rgb(0,0,0);">&gt;</span> a man and a dog are sitting on a bench [en](confidence = 0.000092)<span class="ID" style="color: rgb(0,0,0);">&lt;/li&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_29" rel="nofollow" style="text-decoration: none;">  29</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;/ol&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_30" rel="nofollow" style="text-decoration: none;">  30</a> </span><span class="ID" style="color: rgb(0,0,0);">&lt;/body&gt;</span><span class="ID" style="color: rgb(0,0,0);">&lt;/html&gt;</span></span>
<span class="line"><span class="LineNumber" style="color: gray;"><a class="external-link" href="https://163.172.69.106/tika/ImageCaption#CA-226bfabfb5e7ca0a06614b43ad8460a1315b7fc4_31" rel="nofollow" style="text-decoration: none;">  31</a> </span>$ </span>
</pre><p class="line867"><br/></p><h3 id="ImageCaption-Questions/Suggestions/Improvements/Feedback?">Questions / Suggestions / Improvements / Feedback ?</h3><ol><li><p class="line862">If it was useful, let us know on twitter by mentioning<span> </span><a class="external-link" href="https://twitter.com/ApacheTika" rel="nofollow" style="text-decoration: none;">@ApacheTika</a></p></li><li><p class="line862">If you have questions, let us know by<span> </span><a class="external-link" href="https://tika.apache.org/mail-lists.html" rel="nofollow" style="text-decoration: none;">using Mailing Lists</a></p></li><li><p class="line862">If you find any bugs,<span> </span><a class="external-link" href="https://issues.apache.org/jira/browse/TIKA/" rel="nofollow" style="text-decoration: none;">use Jira to report them</a></p></li></ol>
                    </div>

                                        
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on мая 02, 2023 15:13</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
